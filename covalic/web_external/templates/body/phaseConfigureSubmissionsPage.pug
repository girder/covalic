include ../mixins/backMixins
include ../mixins/wizardMixins

.c-wizard-page-container
  .c-page-title Configure submissions

  p.
    Configure options for submissions to this phase.

  .c-form-container
    //- TODO improve layout, connect 'require' checkbox sensitivities to 'enable' checkboxes
    form.c-phase-configure-submissions-form
      .checkbox
        label
          input#c-phase-match-submissions(type="checkbox", checked=(phase.get('matchSubmissions') ? 'checked' : undefined))
          |  Require submission filenames to match ground truth filenames
      .checkbox
        label
          input#c-phase-enable-organization(type="checkbox", checked=(phase.enableOrganization() ? 'checked' : undefined))
          |  Enable Organization field
      .checkbox
        label
          input#c-phase-enable-organization-url(type="checkbox", checked=(phase.enableOrganizationUrl() ? 'checked' : undefined))
          |  Enable Organization URL field
      .checkbox
        label
          input#c-phase-enable-documentation-url(type="checkbox", checked=(phase.enableDocumentationUrl() ? 'checked' : undefined))
          |  Enable Documentation URL field
      .checkbox
        label
          input#c-phase-require-organization(type="checkbox", checked=(phase.requireOrganization() ? 'checked' : undefined))
          |  Require Organization field
      .checkbox
        label
          input#c-phase-require-organization-url(type="checkbox", checked=(phase.requireOrganizationUrl() ? 'checked' : undefined))
          |  Require Organization URL field
      .checkbox
        label
          input#c-phase-require-documentation-url(type="checkbox", checked=(phase.requireDocumentationUrl() ? 'checked' : undefined))
          |  Require Documentation URL field
    .g-validation-failed-message

  if wizard
    .c-wizard-nav-container
      +wizardNav(wizard.current, wizard.total)
  else
    button.btn.btn-primary.c-save-options #[i.icon-ok] Save
    +backToModel(phase, '#phase/' + phase.id)
